<script title="gtm:ga-spy">
/**
 * https://github.com/smhmic/gaSpy/
 * @version 0.8
 */
(function(e){var n,t,o=function(n){if(e=null,!n.callback||"function"!=typeof n.callback)throw Error("["+n.debugLogPrefix+"] Aborting; No listener callback provided.");return n.gaObjName=n.gaObjName||window.GoogleAnalyticsObject||"ga",n.debug=!!n.debug,n.debugLogPrefix=n.debugLogPrefix||"gaSpy",n}("function"==typeof e?{callback:e}:e),a=o.gaObjName,i=window[a],l=window.console&&o.debug?function(){var e=[].slice.call(arguments);e.unshift("["+o.debugLogPrefix+"]"),console.log.apply(console,e)}:function(){},r=function(e){var n,t={};return o.debug&&function(n,t){for(n="Intercepted: ga(",t=0;t<e.length;t++)n+="string"==typeof e[t]?'"'+e[t]+'"':e[t],t+1<e.length&&(n+=", ");n+=")",l(n)}(),"function"==typeof e[0]?t.callback=e[0]:e[0]&&e[0].split&&(n=e[0].split("."),t.trackerName=n.length>1?n[0]:"t0",t.command=n.length>1?n[1]:n[0],n=n[n.length-1].split(":"),t.pluginName=n.length>1?n[0]:void 0,t.pluginMethodName=n.length>1?n[1]:void 0,"require"===t.command||"provide"===t.command?(t.pluginName=e[1],"provide"===t.command&&(t.pluginConstructor=e[2])):("send"===t.command&&(t.hitType=e[e.length-1].hitType||e[1]),"object"==typeof e[e.length-1]&&(t.trackerName=e[e.length-1].name||t.trackerName))),l("Run listener callback",t),!1===o.callback(e,t)?l("Block hit")||!1:!0},c=function(){var e=[].slice.call(arguments);if(o.debug){if(!r(e))return}else try{if(!r(e))return}catch(n){}return c.gaOrig.apply(c.gaOrig,e)},g=function(){var e,n=c.gaOrig=window[a];l("Hijack",n.gaOrig?"(already hijacked)":""),window[a]=c;for(e in n)n.hasOwnProperty(e)&&(window[a][e]=n[e])};if(l("Config:",o),i||(l("Instantiate GA command queue"),i=window[a]=function(){(window[a].q=window[a].q||[]).push(arguments)},i.l=1*new Date),i.getAll)l("GA already loaded; cannot see previous commands"),g();else{if(!i.l)throw Error("["+o.debugLogPrefix+"] Aborting; `"+a+"` not the GA object.");if(l("Command queue instantiated, but library not yet loaded"),i.q&&i.q.length){for(l("Applying listener to",i.q.length," queued commands"),n=[],t=0;t<i.q.length;t++)r([].slice.call(i.q[t]))&&n.push(i.q[t]);i.q=n}else i.q=[];i(g),g()}}
)( {{GA Spy Config}} );
</script>
